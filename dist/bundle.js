!function(){"use strict";function t(t,e,n,o){return new(n||(n=Promise))((function(i,r){function c(t){try{l(o.next(t))}catch(t){r(t)}}function d(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(c,d)}l((o=o.apply(t,e||[])).next())}))}"function"==typeof SuppressedError&&SuppressedError;const e=document.getElementById("getsmthBtn"),n=document.getElementById("image"),o=document.getElementById("type-form"),i=document.getElementById("title"),r=document.getElementById("date"),c=document.getElementById("comicContainer"),d=document.getElementById("err");let l=!1;e.addEventListener("click",(function(e){return t(this,void 0,void 0,(function*(){if(e.preventDefault(),l)i.textContent="",n.src="",n.alt="",r.textContent="",d.textContent="",c.style.display="none",l=!1;else{i.textContent="Loading...";const e=o.elements.namedItem("email").value;try{const o=yield function(e){return t(this,void 0,void 0,(function*(){const t=new URLSearchParams({email:e}),n=yield fetch(`https://fwd.innopolis.university/api/hw2?${t}`);if(!n.ok)throw new Error("Failed to fetch identifier");return n.text()}))}(e),d=yield function(e){return t(this,void 0,void 0,(function*(){const t=yield fetch(`https://fwd.innopolis.university/api/comic?id=${e}`);if(!t.ok)throw new Error("Failed to fetch comic");return t.json()}))}(o);i.textContent=d.safe_title,n.src=d.img,n.alt=d.alt;const s=`${d.year}-${d.month}-${d.day}`;r.textContent=new Date(s).toLocaleDateString(),c.style.display="flex",l=!0}catch(t){d.textContent="Error",console.error(t)}}}))}))}();
//# sourceMappingURL=bundle.js.map
